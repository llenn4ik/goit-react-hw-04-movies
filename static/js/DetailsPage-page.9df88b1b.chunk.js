(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1],{50:function(e,t,a){"use strict";var n=a(55),r=a.n(n),c=a(56),i=a(57),o=a.n(i);o.a.defaults.baseURL="https://api.themoviedb.org/3";var l="a15f9b7f27bd19853a969d23685d4c4f",u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s("/movie/".concat(t,"/reviews?api_key=").concat(l)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",o.a.get(t).then((function(e){return e.data})));case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}();t.a={fetchPopularFilms:function(){return fetch("".concat("https://api.themoviedb.org/3","/trending/movie/day?api_key=").concat(l)).then((function(e){return e.json()}))},fetchFilmDetails:function(e){return s("/movie/".concat(e,"?api_key=").concat(l))},fetchFilmWithQuery:function(e){return s("/search/movie?api_key=".concat(l,"&query=").concat(e,"&page=1&include_adult=false"))},fetchFilmActors:function(e){return s("/movie/".concat(e,"/credits?api_key=").concat(l))},fetchFilmReviews:u}},91:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(51),r=a(52),c=a(54),i=a(53),o=a(0),l=a.n(o),u=a(9),s=a(2),m=a(50),p=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={filmActors:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;m.a.fetchFilmActors(t).then((function(t){var a=t.cast;return e.setState({filmActors:a})}))}},{key:"render",value:function(){var e=this.state.filmActors;return l.a.createElement("ul",null,e.map((function(e){var t=e.id,a=e.profile_path,n=e.name,r=e.character;return l.a.createElement("li",{key:t},l.a.createElement("img",{className:"photoActor",src:"http://image.tmdb.org/t/p/w500".concat(a),alt:""}),l.a.createElement("p",null,n),l.a.createElement("p",null,r))})))}}]),a}(o.Component),h=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={review:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;m.a.fetchFilmReviews(t).then((function(t){var a=t.results;return e.setState({review:a})}))}},{key:"render",value:function(){var e=this.state.review;return l.a.createElement(l.a.Fragment,null,0===e.length&&l.a.createElement("p",null,"We don't have any reviews for this movie"),e.length>0&&l.a.createElement("ul",null,e.map((function(e){var t=e.id,a=e.author,n=e.content;return l.a.createElement("li",{key:t},l.a.createElement("h2",null,a),l.a.createElement("p",null,n))}))))}}]),a}(o.Component),v=a(7),f=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={aboutFilm:null},e.handleGoBack=function(){var t=e.props.location.state;if(t&&t.from)return e.props.history.push(t.from);e.props.history.push(v.a.moviesPage)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;m.a.fetchFilmDetails(t).then((function(t){return e.setState({aboutFilm:t})}))}},{key:"render",value:function(){var e=this.state.aboutFilm,t=this.props,a=t.match,n=t.location,r=v.a.cast,c=v.a.reviews;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:this.handleGoBack}," \u21d0 Go back"),e&&l.a.createElement("div",{className:"MovieDetails"},l.a.createElement("div",{className:"MovieDetailsImage"},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title})),l.a.createElement("div",{className:"MovieDetailsAbout"},l.a.createElement("h1",null,e.original_title,"(",new Date(e.release_date).getFullYear(),")"),l.a.createElement("p",null,"User Scores: ",10*e.vote_average,"%"),l.a.createElement("h2",null,"Overview"),l.a.createElement("p",null,e.overview),l.a.createElement("h2",null,"Genres"),l.a.createElement("ul",null,e.genres.map((function(e){var t=e.id,a=e.name;return l.a.createElement("li",{key:t},a)}))))),l.a.createElement("div",null,l.a.createElement("h2",null,"Additional information"),l.a.createElement("ul",{className:"addInformation"},l.a.createElement("li",null,l.a.createElement(u.b,{to:{pathname:"/movies/".concat(a.params.movieId,"/cast"),state:{from:n}}},"Cast")),l.a.createElement("li",null,l.a.createElement(u.b,{to:{pathname:"/movies/".concat(a.params.movieId,"/reviews"),state:{from:n}}},"Reviews"))),l.a.createElement(s.b,{path:r,component:p}),l.a.createElement(s.b,{path:c,component:h})))}}]),a}(o.Component)}}]);
//# sourceMappingURL=DetailsPage-page.9df88b1b.chunk.js.map